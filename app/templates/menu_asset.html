<!DOCTYPE html>
<html>
{% extends 'base.html' %}
{% load appli_tags %}
{% load static %}
{% load crispy_forms_tags %}


{% block general %}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

<h1 class="text-center" > Données de référence </h1>

<!-- onglets -->
<ul class="nav nav-tabs">
  <li class="nav-item"><a href='/entites' class="nav-link {{entites}}">Entités</a></li>
  <li class="nav-item"><a href='/entites' class="nav-link {{entites}}">Entités</a></li>
  <li class="nav-item"><a href='/asset' class="nav-link {{asset}}">Matériels</a></li>
  <li class="nav-item"><a href='/asset-category' class="nav-link {{assetcategory}}">Catégorie des Matériels</a></li>
  <li class="nav-item"><a href='/asset-type' class="nav-link {{assettype}}">Type de Matériel</a></li>
</ul> <!-- end onglets -->
<!-- content for server and bdd -->

<div class="tab-content" id="v-pills-tabContent">

    <!-- bloc  datas-->
    <div class="d-flex justify-content-center">
        <!-- toolbar -->
        <div id="tbl_asset_toolbar" class="buttons-toolbar ">
        </div>
        <!-- button for adding an element -->
        <div id= "div_btAdd" class="d-flex justify-content-end">
          <button
              id="btn_add"
              type="button"
              class="pull-right btn btn-outline-primary  "
              data-bs-toggle="offcanvas"
              data-bs-target="#div_assetfunctions"
              aria-controls="div_assetfunctions">
              <i class="bi bi-plus-lg" ></i>
            </button>
        </div>
        <!-- button for delete element(s) . would be moved inside the table by .js-->
        <div id="btn_delete" style = 'display:none'>
          <button  type="button" class="btn btn-outline-secondary btn-sm">delete </button>
        </div>
    </div>

    <div>
            {% show_object_list tableToDisplay  %}
    </div>



</div> <!-- end content for asset -->

<!-- panel  functionnalities (add)-->
<div
    id="div_assetfunctions"
    class='offcanvas offcanvas-end'
    tabindex="-1"
    aria-labelledby="offcanvasRightLabel">
  <!-- add an element -->
  <div id="div_assetadd" >
    <div class="offcanvas-header">
        <h2 class='h6' id="offcanvasRightLabel"><strong> Ajouter un élément </strong></h2>
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <!-- block form -->
    <div class="offcanvas-body">
        <form   id='form'  method="post" >
            <div class='partform'>
              {% crispy form  %}
            </div>
            <input id="submit" type="submit" name="submit" value="Valider" class='btn btn-primary'>
        </form>
    </div>
  </div> <!-- end add an element -->
</div> <!-- end panel  functionnalities (add)-->

<!-- specific js -->
<script src="{% static '/ihm/asset/asset.js' %}"></script>

{% endblock %}
